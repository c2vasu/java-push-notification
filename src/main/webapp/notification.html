<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Notification</title>
<script type="text/javascript">
function start(){
	if (!!window.EventSource) {
		   console.log("Event source available");
		   var source = new EventSource('/java-push-notification/push.html');

		   source.addEventListener('message', function(e) {
		        console.log(e.data);
		   });

		   source.addEventListener('open', function(e) {
		        console.log("Connection was opened.");
		   }, false);

		   source.addEventListener('error', function(e) {
		        if (e.readyState == EventSource.CLOSED) {
		            console.log("Connection was closed.");
		        } else {
		            console.log(e.readyState);   
		        }
		   }, false);
		} else {
		        console.log("No notification feature available");
		}
}

</script>
</head>
<body>


<button onclick="start()">Start</button>

</body>
</html>